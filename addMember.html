<script type="module">
    // // Import Firebase SDK
    // import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.7/firebase-app.js";
    // import { getDatabase, ref, push, set, onValue, remove } from "https://www.gstatic.com/firebasejs/9.6.7/firebase-database.js";

    // // Cấu hình Firebase
    // const firebaseConfig = {
    //     apiKey: "AIzaSyXXXXX-XXXXXXX", // Thay bằng API Key của bạn
    //     authDomain: "phan-hoang-family.firebaseapp.com",
    //     databaseURL: "https://phan-hoang-family-default-rtdb.firebaseio.com/",
    //     projectId: "phan-hoang-family",
    //     storageBucket: "phan-hoang-family.appspot.com",
    //     messagingSenderId: "592111715492",
    //     appId: "1:592111715492:web:d2cdb97844e505c2c81231"
    // };

    // // Khởi tạo Firebase
    // const app = initializeApp(firebaseConfig);
    // const db = getDatabase(app);

    // // Hàm thêm thành viên mới
    // window.addMember = function() {
    //     let name = document.getElementById("name").value;
    //     let role = document.getElementById("role").value;

    //     if (name.trim() === "") {
    //         alert("Vui lòng nhập tên!");
    //         return;
    //     }

    //     const newMemberRef = push(ref(db, "family"));
    //     set(newMemberRef, {
    //         name: name,
    //         role: role
    //     }).then(() => {
    //         document.getElementById("name").value = "";
    //     });
    // };

    // Hiển thị danh sách thành viên
    onValue(ref(db, "family"), (snapshot) => {
        let data = snapshot.val();
        let output = "";

        if (data) {
            Object.keys(data).forEach((key) => {
                output += `<p>${data[key].name} - ${data[key].role} 
                    <button onclick="deleteMember('${key}')">Xóa</button></p>`;
            });
        } else {
            output = "<p>Chưa có thành viên nào.</p>";
        }

        document.getElementById("familyList").innerHTML = output;
    });

    // Xóa thành viên
    window.deleteMember = function(key) {
        remove(ref(db, "family/" + key));
    };
</script>
